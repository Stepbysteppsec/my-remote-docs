代码整体架构

  1. 程序入口

  - main.py:28-43 - 启动 PyQt5 应用，显示主窗口

  2. 核心架构（你的理解完全正确）

  ├── UI 层（界面）
  │   ├── stock_analysis_ui_v2.py - 主界面
  │   ├── component_analysis_ui.py - 成分分析界面
  │   └── trading_plan_ui.py - 交易计划界面
  │
├── 业务逻辑层
  │   ├── stock_functions.py - 核心算法（股票分析、统计计算）
  │   └── base_param.py - 参数定义
  │
└── 数据处理层（多线程/多进程）
├── worker_threads.py - 线程管理
      └── worker_threads_cy.pyx - Cython 优化的高性能计算



  新手流程：
  上传数据 → 设置参数 → 公式选股 → 查看参数显示 → 操作统计

  高级流程：
  上传数据 → 自动分析 → 组合分析 → 公式选股 → 操盘方案





![[Pasted image 20251003010533.png]]


 1. start（开始日期距结束日期天数）= 往回看几天
    - start=5 → 检查5天前那一天
  2. range（向前查找范围）= 和多久之前的历史对比
    - range=60 → 和后面60天比较
  3. span（连续天数）= 要连续几天满足条件
    - span=1 → 只检查1天
    - span=3 → 要连续3天都满足